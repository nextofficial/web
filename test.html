<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Teste Playlists YouTube</title>
</head>
<body style="background:#000; color:#fff; font-family:sans-serif;">

<h1>ðŸŽ¬ VÃ­deos Longos</h1>
<h2>____Games____</h2>
<div id="gameplay" class="video-grid"></div>

<h2>____Corporativos____</h2>
<div id="corporativos" class="video-grid"></div>

<h1>ðŸ“± Shorts</h1>
<h2>____Gerais____</h2>
<div id="geral" class="video-grid"></div>

<script>
const API_KEY = 'AIzaSyB3Di73heLvjvrv1tDpW__qg0R2eZgzwU8';
const PLAYLIST_GAMEPLAY = 'PLBXuZM12Ec4wOYUSnSl-gVLar6TYC3BHu';
const PLAYLIST_CORPORATIVOS = 'PLBXuZM12Ec4z0XHrfDLDNAuJKTW73vc5m';
const PLAYLIST_GERAL = 'PLBXuZM12Ec4zyKAFW2BFqBsSVNTTLJrPI';

async function fetchPlaylist(playlistId, containerId) {
    const container = document.getElementById(containerId);
    container.innerHTML = ''; // limpa container
    const url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=${playlistId}&key=${API_KEY}`;

    try {
        const res = await fetch(url);
        const data = await res.json();

        if (!data.items || data.items.length === 0) {
            container.innerHTML = '<p>Nenhum vÃ­deo encontrado.</p>';
            return;
        }

        data.items.forEach(item => {
            // VerificaÃ§Ã£o completa
            if (!item.snippet || !item.snippet.resourceId || !item.snippet.resourceId.videoId) return;
            
            const videoId = item.snippet.resourceId.videoId;
            const title = item.snippet.title;

            // Ignora vÃ­deos privados/deletados
            if (title === "Private video" || title === "Deleted video") return;

            const thumbnail = item.snippet.thumbnails?.high?.url || '';

            // Cria card visual
            const card = document.createElement('div');
            card.classList.add('video-card');
            card.style.display = 'inline-block';
            card.style.margin = '10px';
            card.style.cursor = 'pointer';
            card.style.width = '200px';
            card.innerHTML = `
                ${thumbnail ? `<img src="${thumbnail}" alt="${title}" style="width:100%; border-radius:8px;">` : ''}
                <p style="color:#fff;">${title}</p>
            `;

            card.addEventListener('click', () => {
                window.open(`https://www.youtube.com/watch?v=${videoId}`, '_blank');
            });

            container.appendChild(card);
        });

    } catch (err) {
        console.error('Erro ao buscar playlist:', err);
        container.innerHTML = '<p>Erro ao carregar vÃ­deos.</p>';
    }
}

// Chamadas para as 3 playlists
fetchPlaylist(PLAYLIST_GAMEPLAY, 'gameplay');
fetchPlaylist(PLAYLIST_CORPORATIVOS, 'corporativos');
fetchPlaylist(PLAYLIST_GERAL, 'geral');

</script>
</body>
</html>
